(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.AudioWorkerShim=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var AudioWorkerNode=require("audio-worker-node");var AudioWorkerGlobalScope=require("./AudioWorkerGlobalScope");var AudioWorkerNodeProcessor=require("./AudioWorkerNodeProcessor");var AudioWorkerParamDescriptor=require("./AudioWorkerParamDescriptor");var findIndex=require("lodash.findindex");var AudioWorker=function(){_createClass(AudioWorker,null,[{key:"create",value:function create(audioContext,workerThread){return new Promise(function(resolve){var scope=new AudioWorkerGlobalScope(audioContext.sampleRate);var worker=new AudioWorker(audioContext,scope);setTimeout(function(){workerThread.call(scope,scope);resolve(worker);setTimeout(function(){if(typeof worker._onloaded==="function"){worker._onloaded({type:"loaded"})}},0)},0)})}}]);function AudioWorker(audioContext,scope){_classCallCheck(this,AudioWorker);this.__target__=scope;scope.__target__=this;this._context=audioContext;this._onmessage=null;this._onloaded=null;this._parameters=[]}_createClass(AudioWorker,[{key:"postMessage",value:function postMessage(message){var _this=this;setTimeout(function(){if(_this.__target__&&typeof _this.__target__.onmessage==="function"){_this.__target__.onmessage({data:message})}},0)}},{key:"terminate",value:function terminate(){}},{key:"createNode",value:function createNode(numberOfInputs,numberOfOutputs){var _this2=this;var proc=new AudioWorkerNodeProcessor;var node=new AudioWorkerNode(this._context,this.__target__.onaudioprocess,{numberOfInputs:numberOfInputs,numberOfOutputs:numberOfOutputs,parameters:this._parameters,processor:proc,bufferLength:1024,dspBufLength:128});setTimeout(function(){if(_this2.__target__&&typeof _this2.__target__.onnodecreate==="function"){node.__target__=proc;proc.__target__=node;_this2.__target__.onnodecreate({type:"nodecreate",node:proc,inputs:new Array(numberOfInputs),outputs:new Array(numberOfOutputs)})}},0);return node}},{key:"addParameter",value:function addParameter(name,defaultValue){var index=findIndex(this._parameters,function(param){return param.name===name});if(index===-1){index=this._parameters.length;this._parameters[index]=new AudioWorkerParamDescriptor(name,defaultValue)}return this._parameters[index]}},{key:"removeParameter",value:function removeParameter(name){var index=findIndex(this._parameters,function(param){return param.name===name});if(index!==-1){this._parameters.splice(index,1)}}},{key:"onmessage",get:function get(){return this._onmessage},set:function set(callback){if(callback===null||typeof callback==="function"){this._onmessage=callback}}},{key:"onloaded",get:function get(){return this._onloaded},set:function set(callback){if(callback===null||typeof callback==="function"){this._onloaded=callback}}},{key:"parameters",get:function get(){return this._parameters.slice()}}]);return AudioWorker}();module.exports=AudioWorker},{"./AudioWorkerGlobalScope":2,"./AudioWorkerNodeProcessor":3,"./AudioWorkerParamDescriptor":4,"audio-worker-node":8,"lodash.findindex":14}],2:[function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var AudioWorkerGlobalScope=function(){function AudioWorkerGlobalScope(sampleRate){_classCallCheck(this,AudioWorkerGlobalScope);this.__target__=null;this._sampleRate=sampleRate;this._onmessage=null;this._onaudioprocess=null;this._onnodecreate=null}_createClass(AudioWorkerGlobalScope,[{key:"postMessage",value:function postMessage(message){var _this=this;setTimeout(function(){if(_this.__target__&&typeof _this.__target__.onmessage==="function"){_this.__target__.onmessage({data:message})}},0)}},{key:"close",value:function close(){}},{key:"addParameter",value:function addParameter(name,defaultValue){if(this.__target__){return this.__target__.addParameter(name,defaultValue)}}},{key:"removeParameter",value:function removeParameter(name){if(this.__target__){return this.__target__.removeParameter(name)}}},{key:"sampleRate",get:function get(){return this._sampleRate}},{key:"onmessage",get:function get(){return this._onmessage},set:function set(callback){if(callback===null||typeof callback==="function"){this._onmessage=callback}}},{key:"onaudioprocess",get:function get(){return this._onaudioprocess},set:function set(callback){if(callback===null||typeof callback==="function"){this._onaudioprocess=callback}}},{key:"onnodecreate",get:function get(){return this._onnodecreate},set:function set(callback){if(callback===null||typeof callback==="function"){this._onnodecreate=callback}}},{key:"parameters",get:function get(){return this.__target__?this.__target__.parameters:[]}}]);return AudioWorkerGlobalScope}();module.exports=AudioWorkerGlobalScope},{}],3:[function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var AudioWorkerNodeProcessor=function(){function AudioWorkerNodeProcessor(){_classCallCheck(this,AudioWorkerNodeProcessor);this.__target__=null;this._onmessage=null}_createClass(AudioWorkerNodeProcessor,[{key:"postMessage",value:function postMessage(message){var _this=this;setTimeout(function(){if(_this.__target__&&typeof _this.__target__.onmessage==="function"){_this.__target__.onmessage({data:message})}},0)}},{key:"onmessage",get:function get(){return this._onmessage},set:function set(callback){if(callback===null||typeof callback==="function"){this._onmessage=callback}}}]);return AudioWorkerNodeProcessor}();module.exports=AudioWorkerNodeProcessor},{}],4:[function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var AudioWorkerParamDescriptor=function(){function AudioWorkerParamDescriptor(name,defaultValue){_classCallCheck(this,AudioWorkerParamDescriptor);this._name=""+name;this._defaultValue=+defaultValue||0}_createClass(AudioWorkerParamDescriptor,[{key:"name",get:function get(){return this._name}},{key:"defaultValue",get:function get(){return this._defaultValue}}]);return AudioWorkerParamDescriptor}();module.exports=AudioWorkerParamDescriptor},{}],5:[function(require,module,exports){(function(global){"use strict";var AudioWorker=require("./AudioWorker");var loadScript=require("./utils/loadScript");var AudioContext=global.AudioContext||global.webkitAudioContext;module.exports=function(compiler){var compile=compiler.compile||null;function create(audioContext,scriptURL){return loadScript(scriptURL).then(function(code){if(compile){code=compile(code)}return AudioWorker.create(audioContext,eval.call(null,'\n        (function(self) { "use strict"; '+code+" })\n      "))})}function polyfill(){if(AudioContext&&!AudioContext.prototype.createAudioWorker){AudioContext.prototype.createAudioWorker=function(scriptURL){return create(this,scriptURL)}}}return{create:create,polyfill:polyfill}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./AudioWorker":1,"./utils/loadScript":6}],6:[function(require,module,exports){(function(global){"use strict";function loadScript(scriptURL){return new Promise(function(resolve,reject){var xhr=new global.XMLHttpRequest;xhr.open("GET",scriptURL);xhr.onload=function(){if(xhr.readyState===4){if(xhr.status===200){resolve(xhr.response)}else{reject(new Error(xhr.statusText))}}};xhr.onerror=function(){reject(new Error(xhr.statusText))};xhr.send()})}module.exports=loadScript}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],7:[function(require,module,exports){var compiler={};module.exports=require("./lib")(compiler)},{"./lib":5}],8:[function(require,module,exports){var _dc1=null;function getDC1(audioContext){if(_dc1===null){_dc1=audioContext.createBuffer(1,8,audioContext.sampleRate);_dc1.getChannelData(0).set([1,1,1,1,1,1,1,1])}return _dc1}function AudioWorkerNode(audioContext,audioprocess,opts){opts=opts||{};var numberOfInputs=Math.max(1,Math.min(+opts.numberOfInputs|0,32));var numberOfOutputs=Math.max(1,Math.min(+opts.numberOfOutputs|0,32));var bufferLength=Math.max(256,Math.min(+opts.bufferLength|0,16384));var dspBufLength=Math.max(128,Math.min(+opts.dspBufLength|0,bufferLength));var playbackTimeIncr=dspBufLength/audioContext.sampleRate;var numberOfParams=(opts.parameters&&opts.parameters.length)|0;var paramKeys=[],paramBuffers=[];var processor=opts.processor||{};var dc1,merger,capture;var node=audioContext.createScriptProcessor(bufferLength,numberOfInputs,numberOfOutputs);node._onmessage=null;Object.defineProperty(node,"onmessage",{get:function(){return this._onmessage},set:function(callback){if(callback===null||typeof callback==="function"){this._onmessage=callback}}});node.postMessage=function(message){var _this=this;setTimeout(function(){if(_this.__target__&&typeof _this.__target__.onmessage==="function"){_this.__target__.onmessage({data:message})}},0)};if(numberOfParams){dc1=audioContext.createBufferSource();merger=audioContext.createChannelMerger(numberOfParams);capture=audioContext.createScriptProcessor(bufferLength,numberOfParams,1);dc1.buffer=getDC1(audioContext);dc1.loop=true;dc1.start(0);opts.parameters.forEach(function(param,index){var paramGain=audioContext.createGain();paramGain.channelCount=1;paramGain.channelCountMode="explicit";paramGain.gain.value=+param.defaultValue||0;node[param.name]=paramGain.gain;paramKeys[index]=param.name;dc1.connect(paramGain);paramGain.connect(merger,0,index)});capture.onaudioprocess=function(e){for(var i=0;i<numberOfParams;i++){paramBuffers[i]=e.inputBuffer.getChannelData(i)}};merger.connect(capture);capture.connect(node)}node.onaudioprocess=function(e){var inputs=new Array(numberOfInputs);var outputs=new Array(numberOfOutputs);var playbackTime=e.playbackTime;var parameters={};var bufferIndex=0;var nextBufferIndex=0;var i,imax;while(bufferIndex<bufferLength){nextBufferIndex=bufferIndex+dspBufLength;for(i=0,imax=numberOfInputs;i<imax;i++){inputs[i]=e.inputBuffer.getChannelData(i).subarray(bufferIndex,nextBufferIndex)}for(i=0,imax=numberOfOutputs;i<imax;i++){outputs[i]=e.outputBuffer.getChannelData(i).subarray(bufferIndex,nextBufferIndex)}for(i=0,imax=paramKeys.length;i<imax;i++){parameters[paramKeys[i]]=paramBuffers[i].subarray(bufferIndex,nextBufferIndex)}audioprocess({type:"audioprocess",playbackTime:playbackTime,node:processor,inputs:[inputs],outputs:[outputs],parameters:parameters});playbackTime+=playbackTimeIncr;bufferIndex=nextBufferIndex}};return node}module.exports=AudioWorkerNode},{}],9:[function(require,module,exports){var baseIsEqual=require("lodash._baseisequal"),bindCallback=require("lodash._bindcallback"),isArray=require("lodash.isarray"),pairs=require("lodash.pairs");var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;var reEscapeChar=/\\(\\)?/g;function baseToString(value){return value==null?"":value+""}function baseCallback(func,thisArg,argCount){var type=typeof func;if(type=="function"){return thisArg===undefined?func:bindCallback(func,thisArg,argCount)}if(func==null){return identity}if(type=="object"){return baseMatches(func)}return thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseGet(object,path,pathKey){if(object==null){return}if(pathKey!==undefined&&pathKey in toObject(object)){path=[pathKey]}var index=0,length=path.length;while(object!=null&&index<length){object=object[path[index++]]}return index&&index==length?object:undefined}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=toObject(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,true):result)){return false}}}return true}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){if(object==null){return false}return object[key]===value&&(value!==undefined||key in toObject(object))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";path=toPath(path);return function(object){if(object==null){return false}var key=pathKey;object=toObject(object);if((isArr||!isCommon)&&!(key in object)){object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));if(object==null){return false}key=last(path);object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,true)}}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";path=toPath(path);return function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=start==null?0:+start||0;if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:+end||0;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function getMatchData(object){var result=pairs(object),length=result.length;while(length--){result[length][2]=isStrictComparable(result[length][1])}return result}function isKey(value,object){var type=typeof value;if(type=="string"&&reIsPlainProp.test(value)||type=="number"){return true}if(isArray(value)){return false}var result=!reIsDeepProp.test(value);return result||object!=null&&value in toObject(object)}function isStrictComparable(value){return value===value&&!isObject(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value)){return value}var result=[];baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}module.exports=baseCallback},{"lodash._baseisequal":11,"lodash._bindcallback":12,"lodash.isarray":16,"lodash.pairs":19}],10:[function(require,module,exports){function baseFindIndex(array,predicate,fromRight){var length=array.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}module.exports=baseFindIndex},{}],11:[function(require,module,exports){var isArray=require("lodash.isarray"),isTypedArray=require("lodash.istypedarray"),keys=require("lodash.keys");var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]";function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other){return true}if(value==null||other==null||!isObject(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=objToString.call(object);if(objTag==argsTag){objTag=objectTag}else if(objTag!=objectTag){objIsArr=isTypedArray(object)}}if(!othIsArr){othTag=objToString.call(other);if(othTag==argsTag){othTag=objectTag}else if(othTag!=objectTag){othIsArr=isTypedArray(other)}}var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!(objIsArr||objIsObj)){return equalByTag(object,other,objTag)}if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}}if(!isSameTag){return false}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==object){return stackB[length]==other}}stackA.push(object);stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);stackA.pop();stackB.pop();return result}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength)){return false}while(++index<arrLength){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result){continue}return false}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)})){return false}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))){return false}}return true}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return false}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key))){return false}}var skipCtor=isLoose;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result)){return false}skipCtor||(skipCtor=key=="constructor")}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){return false}}return true}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=baseIsEqual},{"lodash.isarray":16,"lodash.istypedarray":17,"lodash.keys":18}],12:[function(require,module,exports){function bindCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(thisArg===undefined){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function identity(value){return value}module.exports=bindCallback},{}],13:[function(require,module,exports){var funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=getNative},{}],14:[function(require,module,exports){var baseCallback=require("lodash._basecallback"),baseFindIndex=require("lodash._basefindindex");function createFindIndex(fromRight){return function(array,predicate,thisArg){if(!(array&&array.length)){return-1}predicate=baseCallback(predicate,thisArg,3);return baseFindIndex(array,predicate,fromRight)}}var findIndex=createFindIndex();module.exports=findIndex},{"lodash._basecallback":9,"lodash._basefindindex":10}],15:[function(require,module,exports){function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}module.exports=isArguments},{}],16:[function(require,module,exports){var arrayTag="[object Array]",funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var nativeIsArray=getNative(Array,"isArray");var MAX_SAFE_INTEGER=9007199254740991;function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=isArray},{}],17:[function(require,module,exports){var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var objToString=objectProto.toString;var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}module.exports=isTypedArray},{}],18:[function(require,module,exports){var getNative=require("lodash._getnative"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray");var reIsUint=/^\d+$/;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeKeys=getNative(Object,"keys");var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key)){result.push(key)}}return result}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}var keys=!nativeKeys?shimKeys:function(object){var Ctor=object==null?undefined:object.constructor;if(typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&isArrayLike(object)){return shimKeys(object)}return isObject(object)?nativeKeys(object):[]};function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=keys},{"lodash._getnative":13,"lodash.isarguments":15,"lodash.isarray":16}],19:[function(require,module,exports){var keys=require("lodash.keys");function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function pairs(object){object=toObject(object);var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){var key=props[index];result[index]=[key,object[key]]}return result}module.exports=pairs},{"lodash.keys":18}]},{},[7])(7)});